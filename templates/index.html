<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>MS2NMF</title>
  <!-- ✅ 引入 Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    html, body {
      height: 100%;
      margin: 0;
      font-family: Arial, sans-serif;
    }
    body {
      background: url("https://imgtu.com/uploads/qedut7hc/r-background.webp")
                  center / cover no-repeat;
    }
    nav {
      display: flex;
      align-items: center;
      background-color: #2b78d4;
      padding: 0 20px;
      height: 40px;
    }
    nav img {
      height: 35px;
      margin-right: 10px;
    }
    nav .brand {
      font-size: 20px;
      font-weight: bold;
      color: white;
      margin-right: 40px;
    }
    nav a {
      color: white;
      text-decoration: none;
      margin: 0 15px;
      font-weight: bold;
    }
    nav a:hover {
      text-decoration: underline;
    }
    .hero {
      text-align: center;
      padding: 20px 20px 20px;
    }
    .hero img {
      width: 350px;
      height: auto;
    }
    .hero h1 {
      font-size: 40px;
      margin: 10px 0 0;
      color: #1a3d7c;
    }
    .hero p {
      color: #1a3d7c;
      font-size: 16px;
    }
    .modules {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      margin: 10px 40px;
      gap: 20px;
    }
    .card {
      flex: 1 1 220px;
      max-width: 320px;
      background: rgba(190, 226, 255, 0.9);
      border-radius: 10px;
      padding: 20px;
      height: 290px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.336);
      cursor: pointer;
      transition: transform 0.2s;
    }
    .card:hover {
      transform: translateY(-5px);
    }
    .card h2 {
      font-size: 18px;
      color: #1a3d7c;
      margin-bottom: 10px;
    }
    .card ul {
      padding-left: 20px;
      font-size: 14px;
      color: #333;
    }
  </style>
</head>
<body>

  <!-- 顶部导航栏 -->
  <nav class="navbar navbar-expand-lg" style="background-color:#2b78d4;">
    <img src="https://imgtu.com/uploads/qi8ssrpb/t-file_7142b8.webp" alt="MS2NMF logo">
    <span class="brand">MS2NMF</span>

    <div class="collapse navbar-collapse">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item"><a class="nav-link text-white" href="#">Home</a></li>

        <!-- ✅ Analysis 下拉菜单 -->
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle text-white" href="#" id="analysisDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Analysis
          </a>
          <ul class="dropdown-menu" aria-labelledby="analysisDropdown">
            <li><a class="dropdown-item" href="/mass_spectrometry">Data Preprocessing</a></li>
            <li><a class="dropdown-item" href="/matrix_builder">Matrix Construction & Optimization</a></li>
            <li><a class="dropdown-item" href="/nmf">NMF Decomposition & Visualization</a></li>
          </ul>
        </li>

        <li class="nav-item"><a class="nav-link text-white" href="#">About</a></li>
        <li class="nav-item"><a class="nav-link text-white" href="#">Contact</a></li>
      </ul>
    </div>
  </nav>

  <!-- 中间 logo -->
  <section class="hero">
    <img src="https://imgtu.com/uploads/qheidgs6/r-ms2nmflogo.webp" alt="MS2NMF logo">
    <p>Structure-Sensitive MS² Data Analysis via Nonnegative Matrix Factorization</p>
  </section>

  <!-- 三个功能模块 -->
  <section id="analysis" class="modules">
    <div class="card" onclick="location.href='/mass_spectrometry'">
      <h2>Data Preprocessing</h2>
      <ul>
        <li>Import MS/MS data (MGF, CSV)</li>
        <li>Perform precursor-level filtering using target-specific diagnostic rules.</li>
        <li>Enrich structurally informative spectra while removing irrelevant signals.</li>
      </ul>
    </div>

    <div class="card" onclick="location.href='/matrix_builder'">
      <h2>Matrix Construction & Optimization</h2>
      <ul>
        <li>Build an initial sample × fragment intensity matrix.</li>
        <li>Binning: reduce redundancy, correct centroid drift.</li>
        <li>Structure-guided filtering: keep fragments consistent with chemical rules.</li>
        <li>Frequency-adaptive partitioning: suppress low-specificity noise, preserve informative ions.</li>
        <li>Output: optimized matrix V with better chemical interpretability.</li>
      </ul>
    </div>

    <div class="card" onclick="location.href='/nmf'">
      <h2>NMF Decomposition & Visualization</h2>
      <ul>
        <li>Decompose matrix V into W (sample contributions) and H (fragment patterns).</li>
        <li>Select component number k based on reconstruction error & explained variance.</li>
        <li>Use UMAP projection with cosine-similarity edges to integrate clustering and connectivity.</li>
        <li>Highlight unannotated clusters to guide discovery of novel compounds.</li>
      </ul>
    </div>
  </section>

<style>
/* 控制下拉菜单整体 */
.dropdown-menu {
  min-width: 220px;       /* 保证有足够宽度，不会被文字撑破 */
  border-radius: 6px;     /* 圆角更美观 */
  overflow: hidden;       /* 避免 hover 颜色超出边框 */
}

/* 控制下拉项 */
.dropdown-menu .dropdown-item {
  font-size: 15px;
  font-weight: bold;
  font-family: "Microsoft YaHei", Arial, sans-serif;
  color: #1a3d7c;
  white-space: nowrap;    /* 避免换行导致错位 */
}

/* hover 样式（背景色不会溢出） */
.dropdown-menu .dropdown-item:hover {
  background-color: #e6f0ff;  /* 自定义 hover 背景色 */
  color: #0d2a57;
}

</style>





  <!-- ✅ Bootstrap JS (支持下拉菜单交互) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

